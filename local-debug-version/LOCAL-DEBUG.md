# æœ¬åœ°è°ƒè¯•æŒ‡å—

## ğŸ¯ æœ¬åœ°è°ƒè¯•ç‰ˆæœ¬ç‰¹ç‚¹

- âœ… **æ— éœ€äº‘æœåŠ¡**ï¼šå®Œå…¨åœ¨æœ¬åœ°è¿è¡Œï¼Œæ— éœ€ç½‘ç»œè¿æ¥
- âœ… **æ•°æ®æŒä¹…åŒ–**ï¼šä½¿ç”¨localStorageå­˜å‚¨ï¼Œåˆ·æ–°é¡µé¢æ•°æ®ä¸ä¸¢å¤±
- âœ… **æ¨¡æ‹Ÿäº‘ç¯å¢ƒ**ï¼šæ¥å£ä¸äº‘å¼€å‘ç‰ˆæœ¬ä¿æŒä¸€è‡´
- âœ… **è°ƒè¯•å·¥å…·**ï¼šå†…ç½®å¤šç§è°ƒè¯•åŠŸèƒ½
- âœ… **çƒ­é‡è½½**ï¼šä¿®æ”¹ä»£ç ååˆ·æ–°å³å¯çœ‹åˆ°æ•ˆæœ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ³•ä¸€ï¼šä¸€é”®å¯åŠ¨ï¼ˆæ¨èï¼‰
```bash
# åœ¨ local-debug-version ç›®å½•ä¸‹æ‰§è¡Œ
./start-debug.sh
```

### æ–¹æ³•äºŒï¼šNode.jsæœåŠ¡å™¨
```bash
# ç¡®ä¿å®‰è£…äº†Node.js
node server.js
# æˆ–è€…
npm start
```

### æ–¹æ³•ä¸‰ï¼šPythonæœåŠ¡å™¨
```bash
# Python 3
python3 -m http.server 3000

# Python 2
python -m SimpleHTTPServer 3000
```

### æ–¹æ³•å››ï¼šç›´æ¥æ‰“å¼€æ–‡ä»¶
```bash
# ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
open index.html
# æˆ–åŒå‡» index.html æ–‡ä»¶
```

## ğŸŒ è®¿é—®æ–¹å¼

å¯åŠ¨ååœ¨æµè§ˆå™¨ä¸­è®¿é—®ï¼š
- **Node.jsæœåŠ¡å™¨**: http://localhost:3000
- **PythonæœåŠ¡å™¨**: http://localhost:3000  
- **ç›´æ¥æ‰“å¼€æ–‡ä»¶**: file:///path/to/index.html

## ğŸ”§ è°ƒè¯•åŠŸèƒ½

### 1. æ¨¡æ‹Ÿç™»å½•
- ç‚¹å‡»"æ¨¡æ‹Ÿç™»å½•"æŒ‰é’®å³å¯ç™»å½•
- ç™»å½•çŠ¶æ€ä¼šä¿å­˜åœ¨localStorageä¸­
- æ”¯æŒé€€å‡ºç™»å½•åŠŸèƒ½

### 2. æ•°æ®ç®¡ç†
- **æ¸…ç©ºæ•°æ®**ï¼šç‚¹å‡»"æ¸…ç©ºæ‰€æœ‰æ•°æ®"æŒ‰é’®
- **åŠ è½½ç¤ºä¾‹**ï¼šç‚¹å‡»"åŠ è½½ç¤ºä¾‹æ•°æ®"è·å–æµ‹è¯•æ•°æ®
- **æ•°æ®æŒä¹…åŒ–**ï¼šæ•°æ®è‡ªåŠ¨ä¿å­˜åˆ°localStorage

### 3. æµè§ˆå™¨å¼€å‘è€…å·¥å…·

#### æ‰“å¼€å¼€å‘è€…å·¥å…·
- **Chrome/Edge**: F12 æˆ– Ctrl+Shift+I
- **Firefox**: F12 æˆ– Ctrl+Shift+I  
- **Safari**: Cmd+Option+I

#### æ§åˆ¶å°è°ƒè¯•å‘½ä»¤
```javascript
// è·å–è°ƒè¯•ä¿¡æ¯
debugTracker.getInfo()

// æ¸…ç©ºæ‰€æœ‰æ•°æ®
debugTracker.clearData()

// åŠ è½½ç¤ºä¾‹æ•°æ®
debugTracker.loadSample()

// å¯¼å‡ºæ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
debugTracker.exportData()

// æŸ¥çœ‹å½“å‰ç”¨æˆ·ä¿¡æ¯
tracker.currentUser

// æŸ¥çœ‹æ‰€æœ‰äº¤æ˜“è®°å½•
tracker.transactions
```

### 4. ç½‘ç»œè¯·æ±‚è°ƒè¯•

è™½ç„¶æ˜¯æœ¬åœ°ç‰ˆæœ¬ï¼Œä½†ä»£ç ä¸­ä¿ç•™äº†å¼‚æ­¥æ“ä½œå’Œé”™è¯¯å¤„ç†ï¼Œæ–¹ä¾¿è°ƒè¯•ï¼š

```javascript
// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
await tracker.simulateDelay(300)

// æŸ¥çœ‹æ‰€æœ‰æ“ä½œçš„æ—¥å¿—
// æ‰“å¼€æ§åˆ¶å°å³å¯çœ‹åˆ°è¯¦ç»†æ—¥å¿—
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
local-debug-version/
â”œâ”€â”€ index.html          # ä¸»é¡µé¢
â”œâ”€â”€ style.css           # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ script-local.js     # æœ¬åœ°è°ƒè¯•ç‰ˆJavaScript
â”œâ”€â”€ server.js           # Node.jsç®€å•æœåŠ¡å™¨
â”œâ”€â”€ package.json        # Node.jsé¡¹ç›®é…ç½®
â”œâ”€â”€ start-debug.sh      # ä¸€é”®å¯åŠ¨è„šæœ¬
â””â”€â”€ LOCAL-DEBUG.md      # æœ¬è°ƒè¯•æŒ‡å—
```

## ğŸ› ï¸ å¼€å‘è°ƒè¯•æµç¨‹

### 1. åŸºç¡€è°ƒè¯•
1. å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
2. åœ¨æµè§ˆå™¨ä¸­è®¿é—®é¡¹ç›®
3. æ‰“å¼€å¼€å‘è€…å·¥å…·
4. åœ¨æ§åˆ¶å°æŸ¥çœ‹æ—¥å¿—

### 2. åŠŸèƒ½æµ‹è¯•
1. æµ‹è¯•ç™»å½•/é€€å‡ºåŠŸèƒ½
2. æ·»åŠ å„ç§ç±»å‹çš„äº¤æ˜“è®°å½•
3. æµ‹è¯•åˆ é™¤åŠŸèƒ½
4. éªŒè¯æ•°æ®ç»Ÿè®¡æ˜¯å¦æ­£ç¡®

### 3. æ•°æ®è°ƒè¯•
```javascript
// æ£€æŸ¥localStorageä¸­çš„æ•°æ®
localStorage.getItem('expense-tracker-local-debug')

// æ‰‹åŠ¨æ¸…é™¤æ•°æ®
localStorage.removeItem('expense-tracker-local-debug')
localStorage.removeItem('expense-tracker-local-debug-login')

// è®¾ç½®æµ‹è¯•æ•°æ®
localStorage.setItem('expense-tracker-local-debug', JSON.stringify([
    {
        id: 'test_1',
        description: 'æµ‹è¯•äº¤æ˜“',
        amount: 100,
        type: 'expense',
        category: 'æµ‹è¯•',
        date: '2024-01-01'
    }
]))
```

### 4. ç•Œé¢è°ƒè¯•
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·è°ƒè¯•CSS
- æµ‹è¯•å“åº”å¼è®¾è®¡ï¼ˆæ‰‹æœº/å¹³æ¿é€‚é…ï¼‰
- éªŒè¯äº¤äº’æ•ˆæœ

## ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥

### 1. é¡µé¢æ— æ³•è®¿é—®
**é—®é¢˜**: Cannot GET /
**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•ä¸‹å¯åŠ¨æœåŠ¡å™¨
- æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
- å°è¯•ä½¿ç”¨ä¸åŒçš„ç«¯å£

### 2. æ•°æ®ä¸ä¿å­˜
**é—®é¢˜**: åˆ·æ–°é¡µé¢åæ•°æ®ä¸¢å¤±
**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒlocalStorage
- ç¡®è®¤æ²¡æœ‰åœ¨éšç§æ¨¡å¼ä¸‹æµè§ˆ
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜åé‡è¯•

### 3. åŠŸèƒ½å¼‚å¸¸
**é—®é¢˜**: æŸäº›åŠŸèƒ½ä¸å·¥ä½œ
**è§£å†³æ–¹æ¡ˆ**:
- æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯ä¿¡æ¯
- æ£€æŸ¥JavaScriptæ˜¯å¦è¢«ç¦ç”¨
- ç¡®è®¤æ–‡ä»¶å®Œæ•´æ€§

### 4. æ ·å¼å¼‚å¸¸
**é—®é¢˜**: é¡µé¢æ ·å¼æ˜¾ç¤ºä¸æ­£å¸¸
**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤CSSæ–‡ä»¶åŠ è½½æˆåŠŸ
- æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

## ğŸ”„ ä»æœ¬åœ°ç‰ˆåˆ‡æ¢åˆ°äº‘å¼€å‘ç‰ˆ

å½“æœ¬åœ°è°ƒè¯•å®Œæˆåï¼Œåˆ‡æ¢åˆ°äº‘å¼€å‘ç‰ˆæœ¬çš„æ­¥éª¤ï¼š

1. **å¤åˆ¶ä¿®æ”¹çš„ä»£ç **
   ```bash
   # å°†ä¿®æ”¹çš„é€»è¾‘å¤åˆ¶åˆ°äº‘å¼€å‘ç‰ˆæœ¬
   cp modified-functions.js ../wechat-cloudbase-version/
   ```

2. **æ›´æ–°äº‘å¼€å‘ç‰ˆæœ¬**
   - å°†æœ¬åœ°è°ƒè¯•çš„ä¸šåŠ¡é€»è¾‘è¿ç§»åˆ°äº‘å¼€å‘ç‰ˆæœ¬
   - æ›¿æ¢localStorageæ“ä½œä¸ºäº‘æ•°æ®åº“æ“ä½œ
   - æ›´æ–°ç”¨æˆ·è®¤è¯é€»è¾‘

3. **éƒ¨ç½²æµ‹è¯•**
   - åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æµ‹è¯•
   - éƒ¨ç½²åˆ°äº‘ç¯å¢ƒè¿›è¡ŒéªŒè¯

## ğŸ“Š æ€§èƒ½ç›‘æ§

### 1. å†…å­˜ä½¿ç”¨
```javascript
// æ£€æŸ¥localStorageä½¿ç”¨æƒ…å†µ
console.log('æ•°æ®å¤§å°:', JSON.stringify(tracker.transactions).length, 'å­—èŠ‚')

// æŸ¥çœ‹æµè§ˆå™¨å†…å­˜ä½¿ç”¨
// å¼€å‘è€…å·¥å…· > Memory æ ‡ç­¾é¡µ
```

### 2. å“åº”æ—¶é—´
```javascript
// æµ‹è¯•æ“ä½œå“åº”æ—¶é—´
console.time('æ·»åŠ äº¤æ˜“')
await tracker.addTransaction()
console.timeEnd('æ·»åŠ äº¤æ˜“')
```

## ğŸ¨ è‡ªå®šä¹‰è°ƒè¯•

### 1. æ·»åŠ è°ƒè¯•é¢æ¿
```javascript
// åœ¨script-local.jsä¸­æ·»åŠ 
function createDebugPanel() {
    const panel = document.createElement('div');
    panel.innerHTML = `
        <div style="position: fixed; top: 10px; right: 10px; background: white; padding: 10px; border: 1px solid #ccc;">
            <h4>è°ƒè¯•é¢æ¿</h4>
            <button onclick="console.log(tracker.getDebugInfo())">æ‰“å°è°ƒè¯•ä¿¡æ¯</button>
        </div>
    `;
    document.body.appendChild(panel);
}
```

### 2. è‡ªå®šä¹‰æ—¥å¿—
```javascript
// æ·»åŠ æ›´è¯¦ç»†çš„æ—¥å¿—
class Logger {
    static log(level, message, data) {
        console.log(`[${level}] ${new Date().toISOString()} - ${message}`, data);
    }
}

// ä½¿ç”¨
Logger.log('INFO', 'ç”¨æˆ·ç™»å½•', tracker.currentUser);
```

## ğŸ’¡ å¼€å‘æŠ€å·§

1. **ä½¿ç”¨Chrome DevToolsçš„è¦†ç›–åŠŸèƒ½**
   - å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­ä¿®æ”¹ä»£ç 
   - ä¿®æ”¹ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æœ¬åœ°

2. **æ–­ç‚¹è°ƒè¯•**
   - åœ¨å¼€å‘è€…å·¥å…·ä¸­è®¾ç½®æ–­ç‚¹
   - é€æ­¥æ‰§è¡Œä»£ç æŸ¥çœ‹å˜é‡å€¼

3. **ç½‘ç»œæ¨¡æ‹Ÿ**
   - åœ¨Networkæ ‡ç­¾é¡µä¸­æ¨¡æ‹Ÿæ…¢ç½‘ç»œ
   - æµ‹è¯•åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†

4. **å“åº”å¼æµ‹è¯•**
   - ä½¿ç”¨è®¾å¤‡æ¨¡æ‹Ÿå™¨æµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸
   - éªŒè¯ç§»åŠ¨ç«¯é€‚é…æ•ˆæœ

è¿™ä¸ªæœ¬åœ°è°ƒè¯•ç‰ˆæœ¬è®©ä½ å¯ä»¥å¿«é€Ÿå¼€å‘å’Œæµ‹è¯•åŠŸèƒ½ï¼Œæ— éœ€ä¾èµ–äº‘æœåŠ¡ï¼Œå¤§å¤§æé«˜å¼€å‘æ•ˆç‡ï¼